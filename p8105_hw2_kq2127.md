p8105\_hw2\_kq2127
================
Kristal Quispe
9/29/2019

## Problem 1

Read and clean Mr.Â Trash Wheel sheet

``` r
prob1_data = 
  read_excel(
    path = "./data/HealthyHarborWaterWheel.xlsx",
    sheet = "Mr. Trash Wheel",
    range ="A2:N336") %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(sports_balls = as.integer(round(sports_balls)))
```

Read, clean and combine 2017-2018 Precipitation data

``` r
precip17_dt = 
  read_excel(
    path = "./data/HealthyHarborWaterWheel.xlsx",
    sheet = "2017 Precipitation",
    range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  drop_na(total) %>% 
  mutate(year = 2017)

precip18_dt = 
  read_excel(
    path = "./data/HealthyHarborWaterWheel.xlsx",
    sheet = "2018 Precipitation",
    range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  drop_na(total) %>% 
  mutate(year = 2018)

precip_dt =
  bind_rows(
    precip17_dt,precip18_dt) %>%
  janitor::clean_names() %>% 
  mutate(month=month.name[month])
```

## Problem 2

``` r
pm_dt = read_csv(file="./data/pols-month.csv") %>% 
  janitor::clean_names() %>% 
  separate(mon, into = c("year", "month", "day"), sep = "-") %>% 
  mutate(
    month = month.name[as.numeric(month)],
    year = as.numeric(year)) %>% 
  select(year, month, prez_gop, prez_dem, everything(), -day) %>% 
  pivot_longer(
    prez_gop:prez_dem,
    names_to = "president",
    names_prefix = "prez_",
    values_to = "value") %>% 
  filter(value == 1) %>% 
  select(year, month, president, everything(), -value)
```

    ## Parsed with column specification:
    ## cols(
    ##   mon = col_date(format = ""),
    ##   prez_gop = col_double(),
    ##   gov_gop = col_double(),
    ##   sen_gop = col_double(),
    ##   rep_gop = col_double(),
    ##   prez_dem = col_double(),
    ##   gov_dem = col_double(),
    ##   sen_dem = col_double(),
    ##   rep_dem = col_double()
    ## )

``` r
pm_dt
```

    ## # A tibble: 817 x 9
    ##     year month    president gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem
    ##    <dbl> <chr>    <chr>       <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>
    ##  1  1947 January  dem            23      51     253      23      45     198
    ##  2  1947 February dem            23      51     253      23      45     198
    ##  3  1947 March    dem            23      51     253      23      45     198
    ##  4  1947 April    dem            23      51     253      23      45     198
    ##  5  1947 May      dem            23      51     253      23      45     198
    ##  6  1947 June     dem            23      51     253      23      45     198
    ##  7  1947 July     dem            23      51     253      23      45     198
    ##  8  1947 August   dem            23      51     253      23      45     198
    ##  9  1947 Septemb~ dem            23      51     253      23      45     198
    ## 10  1947 October  dem            23      51     253      23      45     198
    ## # ... with 807 more rows

``` r
snp_dt = read_csv(file="./data/snp.csv") %>% 
  janitor::clean_names() %>% 
  separate(date, into = c("month", "day", "year"), sep = "/") %>% 
  mutate(
    month = month.name[as.numeric(month)],
    year = as.numeric(year)) %>% 
  select(year, month, everything(), -day)
```

    ## Parsed with column specification:
    ## cols(
    ##   date = col_character(),
    ##   close = col_double()
    ## )

``` r
snp_dt
```

    ## # A tibble: 787 x 3
    ##     year month    close
    ##    <dbl> <chr>    <dbl>
    ##  1  2015 July     2080.
    ##  2  2015 June     2063.
    ##  3  2015 May      2107.
    ##  4  2015 April    2086.
    ##  5  2015 March    2068.
    ##  6  2015 February 2104.
    ##  7  2015 January  1995.
    ##  8  2014 December 2059.
    ##  9  2014 November 2068.
    ## 10  2014 October  2018.
    ## # ... with 777 more rows

``` r
une_dt = read_csv(file="./data/unemployment.csv") %>% 
  janitor::clean_names() %>% 
  pivot_longer(
    jan:dec,
    names_to = "month",
    values_to = "unemployment")  
```

    ## Parsed with column specification:
    ## cols(
    ##   Year = col_double(),
    ##   Jan = col_double(),
    ##   Feb = col_double(),
    ##   Mar = col_double(),
    ##   Apr = col_double(),
    ##   May = col_double(),
    ##   Jun = col_double(),
    ##   Jul = col_double(),
    ##   Aug = col_double(),
    ##   Sep = col_double(),
    ##   Oct = col_double(),
    ##   Nov = col_double(),
    ##   Dec = col_double()
    ## )

``` r
  #mutate(month = month.name[month]) need to switch from abreviation to full name to merge data sets.

une_dt
```

    ## # A tibble: 816 x 3
    ##     year month unemployment
    ##    <dbl> <chr>        <dbl>
    ##  1  1948 jan            3.4
    ##  2  1948 feb            3.8
    ##  3  1948 mar            4  
    ##  4  1948 apr            3.9
    ##  5  1948 may            3.5
    ##  6  1948 jun            3.6
    ##  7  1948 jul            3.6
    ##  8  1948 aug            3.9
    ##  9  1948 sep            3.8
    ## 10  1948 oct            3.7
    ## # ... with 806 more rows
