p8105\_hw2\_kq2127
================
Kristal Quispe
9/29/2019

## Problem 1

Read and clean Mr.Â Trash Wheel sheet

``` r
mtw_data = 
  read_excel(
    path = "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "Mr. Trash Wheel",
    range ="A2:N406") %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(sports_balls = as.integer(round(sports_balls)))
 
mtw_data
```

    ## # A tibble: 344 x 14
    ##    dumpster month  year date                weight_tons volume_cubic_ya~
    ##       <dbl> <chr> <dbl> <dttm>                    <dbl>            <dbl>
    ##  1        1 May    2014 2014-05-16 00:00:00        4.31               18
    ##  2        2 May    2014 2014-05-16 00:00:00        2.74               13
    ##  3        3 May    2014 2014-05-16 00:00:00        3.45               15
    ##  4        4 May    2014 2014-05-17 00:00:00        3.1                15
    ##  5        5 May    2014 2014-05-17 00:00:00        4.06               18
    ##  6        6 May    2014 2014-05-20 00:00:00        2.71               13
    ##  7        7 May    2014 2014-05-21 00:00:00        1.91                8
    ##  8        8 May    2014 2014-05-28 00:00:00        3.7                16
    ##  9        9 June   2014 2014-06-05 00:00:00        2.52               14
    ## 10       10 June   2014 2014-06-11 00:00:00        3.76               18
    ## # ... with 334 more rows, and 8 more variables: plastic_bottles <dbl>,
    ## #   polystyrene <dbl>, cigarette_butts <dbl>, glass_bottles <dbl>,
    ## #   grocery_bags <dbl>, chip_bags <dbl>, sports_balls <int>,
    ## #   homes_powered <dbl>

Read, clean and combine 2017-2018 Precipitation data

``` r
precip17_dt = 
  read_excel(
    path = "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2017 Precipitation",
    range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  drop_na(total) %>% 
  mutate(year = 2017)

precip18_dt = 
  read_excel(
    path = "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2018 Precipitation",
    range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  drop_na(total) %>% 
  mutate(year = 2018)

precip_dt =
  bind_rows(
    precip17_dt,precip18_dt) %>%
  janitor::clean_names() %>% 
  mutate(month = month.name[month])
```

The mtw\_data data set has 344 observations. The most important
variables in this data set are dumpster, year, weight\_tons,
volume\_cubic\_yards, and sports\_balls. The median number of sports
balls in a dumpster in 2017 is 8. The precip\_dt data set has 24
observations. The most important variables in this data set are year,
month and total. The total precipitation in 2018 is 70.33 units.

## Problem 2

``` r
pm_dt = read_csv(file="./data/pols-month.csv") %>% 
  janitor::clean_names() %>% 
  separate(mon, into = c("year", "month", "day"), sep = "-") %>% 
  mutate(
    month = month.name[as.numeric(month)],
    year = as.numeric(year)) %>% 
  select(year, month, prez_gop, prez_dem, everything(), -day) %>% 
  pivot_longer(
    prez_gop:prez_dem,
    names_to = "president",
    names_prefix = "prez_",
    values_to = "value") %>% 
  filter(value == 1) %>% 
  select(year, month, president, everything(), -value)
```

    ## Parsed with column specification:
    ## cols(
    ##   mon = col_date(format = ""),
    ##   prez_gop = col_double(),
    ##   gov_gop = col_double(),
    ##   sen_gop = col_double(),
    ##   rep_gop = col_double(),
    ##   prez_dem = col_double(),
    ##   gov_dem = col_double(),
    ##   sen_dem = col_double(),
    ##   rep_dem = col_double()
    ## )

``` r
snp_dt = read_csv(file="./data/snp.csv") %>% 
  janitor::clean_names() %>% 
  separate(date, into = c("month", "day", "year"), sep = "/") %>% 
  mutate(
    month = month.name[as.numeric(month)],
    year = as.numeric(year)) %>% 
  select(year, month, everything(), -day)
```

    ## Parsed with column specification:
    ## cols(
    ##   date = col_character(),
    ##   close = col_double()
    ## )

``` r
une_dt = read_csv(file="./data/unemployment.csv") %>% 
  janitor::clean_names() %>% 
  pivot_longer(
    jan:dec,
    names_to = "month",
    values_to = "unemployment") %>% 
  mutate(
    month = recode(
      month,
      "jan" = "January",
      "feb" = "February",
      "mar" = "March",
      "apr" = "April",
      "may" = "May",
      "jun" = "June",
      "jul" = "July",
      "aug" = "August",
      "sep" = "September",
      "oct" = "October",
      "nov" = "November",
      "dec" = "December"))
```

    ## Parsed with column specification:
    ## cols(
    ##   Year = col_double(),
    ##   Jan = col_double(),
    ##   Feb = col_double(),
    ##   Mar = col_double(),
    ##   Apr = col_double(),
    ##   May = col_double(),
    ##   Jun = col_double(),
    ##   Jul = col_double(),
    ##   Aug = col_double(),
    ##   Sep = col_double(),
    ##   Oct = col_double(),
    ##   Nov = col_double(),
    ##   Dec = col_double()
    ## )

``` r
fj_dt = left_join(pm_dt, snp_dt, by = c("year", "month"))

pb2_dt = left_join(fj_dt, une_dt, by = c("year", "month"))

pb2_dt
```

    ## # A tibble: 817 x 11
    ##     year month president gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem
    ##    <dbl> <chr> <chr>       <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>
    ##  1  1947 Janu~ dem            23      51     253      23      45     198
    ##  2  1947 Febr~ dem            23      51     253      23      45     198
    ##  3  1947 March dem            23      51     253      23      45     198
    ##  4  1947 April dem            23      51     253      23      45     198
    ##  5  1947 May   dem            23      51     253      23      45     198
    ##  6  1947 June  dem            23      51     253      23      45     198
    ##  7  1947 July  dem            23      51     253      23      45     198
    ##  8  1947 Augu~ dem            23      51     253      23      45     198
    ##  9  1947 Sept~ dem            23      51     253      23      45     198
    ## 10  1947 Octo~ dem            23      51     253      23      45     198
    ## # ... with 807 more rows, and 2 more variables: close <dbl>,
    ## #   unemployment <dbl>

## Problem 3

``` r
babynames_dt = read_csv(file="./data/Popular_Baby_Names.csv") %>% 
  janitor::clean_names()
```

    ## Parsed with column specification:
    ## cols(
    ##   `Year of Birth` = col_double(),
    ##   Gender = col_character(),
    ##   Ethnicity = col_character(),
    ##   `Child's First Name` = col_character(),
    ##   Count = col_double(),
    ##   Rank = col_double()
    ## )

``` r
  ##mutate(childs_first_name = capitalize_str(tolower(childs_first_name))) trying to capatilize first letter of word only
         

babynames_dt
```

    ## # A tibble: 19,418 x 6
    ##    year_of_birth gender ethnicity              childs_first_na~ count  rank
    ##            <dbl> <chr>  <chr>                  <chr>            <dbl> <dbl>
    ##  1          2016 FEMALE ASIAN AND PACIFIC ISL~ Olivia             172     1
    ##  2          2016 FEMALE ASIAN AND PACIFIC ISL~ Chloe              112     2
    ##  3          2016 FEMALE ASIAN AND PACIFIC ISL~ Sophia             104     3
    ##  4          2016 FEMALE ASIAN AND PACIFIC ISL~ Emily               99     4
    ##  5          2016 FEMALE ASIAN AND PACIFIC ISL~ Emma                99     4
    ##  6          2016 FEMALE ASIAN AND PACIFIC ISL~ Mia                 79     5
    ##  7          2016 FEMALE ASIAN AND PACIFIC ISL~ Charlotte           59     6
    ##  8          2016 FEMALE ASIAN AND PACIFIC ISL~ Sarah               57     7
    ##  9          2016 FEMALE ASIAN AND PACIFIC ISL~ Isabella            56     8
    ## 10          2016 FEMALE ASIAN AND PACIFIC ISL~ Hannah              56     8
    ## # ... with 19,408 more rows
